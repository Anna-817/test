<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>React, Webpack, Babel Starter Pack</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="manifest" href="manifest/manifest.json">
  </head>
  <body>
    <noscript> You need to enable JavaScript to run this app. </noscript>
    <!-- your react app will render here -->
    <div id="app"></div>
    <script>
      if ('serviceWorker' in navigator) {
          window.addEventListener('load', function() {
              navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
                  // Registration was successful
                  console.log('ServiceWorker успешно зарегистрирован со сферой действия: ', registration.scope);
                  }, function(err) {
                  // registration failed :(
                  console.log('ServiceWorker не удалось зарегистрировать: ', err);
              }).catch(function(err) {
                  console.log(err)
              });
          });
      } else {
          console.log('ServiceWorker не поддерживается');
      }
   </script>
   <script>
      window.addEventListener('appinstalled', (evt) => {
          fetch('/api/appinstalled', {
              method: 'GET',
              credentials: 'include',
          });
      });
  </script>
  <script src="./notifications.js"></script>
  </body>
</html>